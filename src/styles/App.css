.app {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: var(--bg-primary);
}

/* 侧边栏布局：TabBar 在顶部（无侧边栏时） */
.app-body {
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
}

/* 有侧边栏时：横向布局 */
.app.with-sidebar .app-body {
    flex-direction: row;
}

/* 标签栏容器（无侧边栏时显示） */
.app-header {
    display: flex;
    align-items: center;
    height: 40px;
    min-height: 40px;
    max-height: 40px;
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border);
}

.app-header .tab-bar {
    flex: 1;
}

/* 编辑区域 */
.app-main {
    flex: 1;
    display: flex;
    overflow: hidden;
}

.editor-container {
    flex: 1;
    overflow: hidden;
}

.editor-container .cm-editor {
    height: 100%;
}

/* 沉浸模式：标题栏和状态栏渐隐 */
.title-bar,
.app-footer,
.tab-bar-fixed {
    transition: opacity 0.3s ease;
}

.app.immersive .title-bar,
.app.immersive .app-footer,
.app.immersive .tab-bar-fixed {
    opacity: 0;
    pointer-events: none;
}